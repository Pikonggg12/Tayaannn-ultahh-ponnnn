<!doctype html>

<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Untuk Taayaaannnn ‚Äî Happy Birthday üéÇ</title>
  <style>
    :root{
      --bg:#fff5f8;
      --pink:#ffb6d5;
      --pink-2:#ff8fb1;
      --text:#3a2a2c;
      --card:#fff;
      --glass: rgba(255,255,255,0.6);
      font-family: 'Segoe UI', Roboto, system-ui, -apple-system;
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,var(--bg),#ffeef6);color:var(--text);}
    header{display:flex;align-items:center;justify-content:space-between;padding:18px 24px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--pink),var(--pink-2));display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:20px;box-shadow:0 6px 18px rgba(255,140,170,0.18)}
    nav a{margin-left:12px;text-decoration:none;color:var(--text);padding:8px 12px;border-radius:10px}
    nav a.active{background:var(--glass);backdrop-filter:blur(6px)}
    main{max-width:920px;margin:18px auto;padding:18px}
    .card{background:var(--card);border-radius:16px;padding:20px;box-shadow:0 10px 30px rgba(60,20,40,0.06)}/* HOME */
.hero{display:grid;grid-template-columns:1fr 320px;gap:20px;align-items:center}
.hero .text h1{margin:0;font-size:30px}
.heart{font-size:42px}
.wish{margin-top:12px;color:#6b4b58}
.photo-frame{border-radius:12px;overflow:hidden}
.photo-frame img{width:100%;height:100%;object-fit:cover;display:block}

/* gallery */
.gallery-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:12px;margin-top:12px}
.thumb{position:relative;border-radius:12px;overflow:hidden;border:1px solid rgba(0,0,0,0.06)}
.thumb img{width:100%;height:150px;object-fit:cover;display:block}
.thumb .del{position:absolute;right:6px;top:6px;background:rgba(0,0,0,0.45);color:white;padding:6px;border-radius:8px;font-size:12px;border:none}

/* letter */
.letter{white-space:pre-wrap;font-size:16px;line-height:1.6}

footer{text-align:center;padding:18px;color:#7b5b63}

/* responsive */
@media (max-width:800px){
  .hero{grid-template-columns:1fr}
  .logo{width:48px;height:48px}
}

/* playful touches */
.confetti{position:fixed;pointer-events:none;inset:0;z-index:200}
.btn{display:inline-block;padding:10px 14px;border-radius:10px;background:linear-gradient(90deg,var(--pink),var(--pink-2));color:white;text-decoration:none;font-weight:600}
.muted{color:#8a6f78;font-size:14px}
input[type=file]{display:none}

  </style>
</head>
<body>
  <div class="confetti" id="confetti"></div>
  <header>
    <div class="brand">
      <div class="logo">T</div>
      <div>
        <div style="font-weight:700">Untuk Taayaaannnn</div>
        <div class="muted">Hadiah ulang tahun ‚Äî dibuat khusus üíñ</div>
      </div>
    </div>
    <nav>
      <a href="#home" id="nav-home" class="active">Ucapan</a>
      <a href="#gallery" id="nav-gallery">Galeri</a>
      <a href="#letter" id="nav-letter">Surat</a>
    </nav>
  </header>  <main>
    <!-- HOME -->
    <section id="home" class="page card">
      <div class="hero">
        <div class="text">
          <h1>Selamat ulang tahun, <span class="heart">Taayaaannnn</span> ü•π</h1>
          <p class="wish">Hari ini aku cuma mau bilang: terima kasih karena kamu selalu bikin hari-hariku lebih lucu, hangat, dan manis‚Äîkayak kue ulang tahun yang nggak punya kalori üòÖ. Semoga semua keinginanmu kesampaian. Aku janji akan terus jadi teman yang nonton drama bareng kamu, nemenin tiap belanja online, dan makan es krim tengah malam kalau kamu minta. Love you to the moon and back üíó</p><div style="margin-top:14px">
        <a class="btn" id="open-gallery" href="#gallery">Lihat Galeri Kenangan</a>
        <button class="btn" id="play-voice" style="margin-left:8px">Dengar Pesan Suara</button>
      </div>
    </div>

    <div class="photo-frame">
      <img id="cover-img" src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='600' height='400'><rect width='100%' height='100%' fill='%23ffd8ea'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-size='28' fill='%23b24f6a' font-family='Segoe UI'>Tambahkan foto favorit kalian di Galeri üíï</text></svg>" alt="cover">
    </div>
  </div>
</section>

<!-- GALLERY -->
<section id="gallery" class="page card" style="margin-top:18px">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <div>
      <h2>Galeri Kenangan</h2>
      <div class="muted">Upload foto-foto kalian. Foto akan tersimpan di browser (lokal) sehingga hanya bisa dilihat di perangkat yang sama.</div>
    </div>
    <div>
      <label class="btn" for="file-input">Tambah Foto</label>
      <input id="file-input" type="file" accept="image/*" multiple>
    </div>
  </div>

  <div class="gallery-grid" id="gallery-grid">
    <!-- thumbnails injected here -->
  </div>

  <div style="margin-top:12px" class="muted">Tip: Kamu bisa buka halaman ini di browser dan klik "Tambah Foto" untuk mengisi galeri.</div>
</section>

<!-- LETTER -->
<section id="letter" class="page card" style="margin-top:18px">
  <h2>Surat Untuk Taayaaannnn</h2>
  <div class="letter" id="letter-content">Hai Taayaaannnn,

Hari ini aku pengen bilang banyak hal, tapi intinya: makasih ya sudah jadi orang yang selalu bisa bikin aku ketawa. Ingat nggak waktu kita... (isi kenangan di sini). Semoga ulang tahunmu penuh kejutan manis dan banyak kue. Aku sayang kamu üíï

Dari aku</div>

<div style="margin-top:12px">
  <button class="btn" id="edit-letter">Edit Surat</button>
  <button class="btn" id="save-letter" style="margin-left:8px;display:none">Simpan</button>
</div>

  </section></main><footer>
  Dibuat dengan ‚ù§Ô∏è untuk Taayaaannnn ‚Äî buka file ini di browser. Kalau mau, aku bisa bantu host gratis di GitHub Pages.
</footer><script>
  // Simple hash navigation
  const pages = ['home','gallery','letter'];
  function showPage(name){
    pages.forEach(p=>{
      document.getElementById(p).style.display = (p===name)?'block':'none';
      document.getElementById('nav-'+p).classList.toggle('active', p===name);
    });
    location.hash = '#'+name;
  }
  function initNav(){
    pages.forEach(p=>document.getElementById('nav-'+p).addEventListener('click',(e)=>{e.preventDefault();showPage(p);}));
    const hash = (location.hash||'#home').replace('#','');
    showPage(pages.includes(hash)?hash:'home');
  }
  initNav();

  // Confetti (tiny) for fun
  function burstConfetti(){
    const container = document.getElementById('confetti');
    for(let i=0;i<20;i++){
      const el = document.createElement('div');
      el.style.width='10px';el.style.height='14px';el.style.position='absolute';
      el.style.left=(Math.random()*100)+'%';el.style.top=(Math.random()*30)+'%';
      el.style.opacity=0.9;el.style.transform='rotate('+ (Math.random()*360)+'deg)';
      el.style.background = ['#ffd1e6','#ffb0d1','#ff9ac0','#ff7aa8'][Math.floor(Math.random()*4)];
      el.style.borderRadius='2px';
      el.style.pointerEvents='none';
      container.appendChild(el);
      setTimeout(()=>el.remove(),3000+Math.random()*2000);
    }
  }
  setTimeout(burstConfetti,600);

  // Gallery: save images to localStorage as data URLs (small-ish)
  const fileInput = document.getElementById('file-input');
  const grid = document.getElementById('gallery-grid');
  const COVER = 'cover-image';
  function loadGallery(){
    grid.innerHTML='';
    const stored = JSON.parse(localStorage.getItem('taayaa_gallery')||'[]');
    stored.forEach((dataUrl,idx)=>{
      const t = document.createElement('div'); t.className='thumb';
      const img = document.createElement('img'); img.src=dataUrl; t.appendChild(img);
      const d = document.createElement('button'); d.className='del'; d.textContent='Hapus';
      d.addEventListener('click',()=>{ if(confirm('Hapus foto ini?')){ stored.splice(idx,1); localStorage.setItem('taayaa_gallery',JSON.stringify(stored)); loadGallery(); }});
      t.appendChild(d);
      grid.appendChild(t);
    });
    // set cover if first exists
    if(stored.length>0) document.getElementById('cover-img').src = stored[0];
  }
  fileInput.addEventListener('change',async (e)=>{
    const files = Array.from(e.target.files).slice(0,12);
    const stored = JSON.parse(localStorage.getItem('taayaa_gallery')||'[]');
    for(const f of files){
      const dataUrl = await fileToDataURL(f);
      stored.push(dataUrl);
    }
    localStorage.setItem('taayaa_gallery',JSON.stringify(stored));
    fileInput.value='';
    loadGallery();
  });
  function fileToDataURL(file){
    return new Promise(res=>{
      const r = new FileReader(); r.onload = ()=>res(r.result); r.readAsDataURL(file);
    });
  }
  loadGallery();

  // Letter editing
  const editBtn = document.getElementById('edit-letter');
  const saveBtn = document.getElementById('save-letter');
  const letterEl = document.getElementById('letter-content');
  editBtn.addEventListener('click',()=>{
    const ta = document.createElement('textarea'); ta.style.width='100%'; ta.style.minHeight='180px';
    ta.value = localStorage.getItem('taayaa_letter') || letterEl.textContent;
    letterEl.replaceWith(ta); editBtn.style.display='none'; saveBtn.style.display='inline-block';
    saveBtn.onclick = ()=>{ const val = ta.value; localStorage.setItem('taayaa_letter',val); const d = document.createElement('div'); d.className='letter'; d.id='letter-content'; d.textContent = val; ta.replaceWith(d); editBtn.style.display='inline-block'; saveBtn.style.display='none'; };
  });
  // load saved letter
  const savedLetter = localStorage.getItem('taayaa_letter'); if(savedLetter){ document.getElementById('letter-content').textContent = savedLetter }

  // Play dummy voice (you can replace with a recorded dataURL)
  document.getElementById('play-voice').addEventListener('click',()=>{
    // speak using speechSynthesis as simple voice message
    const s = new SpeechSynthesisUtterance(`Selamat ulang tahun Taayaaannnn! Semoga harimu menyenangkan. Aku sayang kamu.`);
    s.lang='id-ID'; window.speechSynthesis.cancel(); window.speechSynthesis.speak(s);
  });

  // open gallery from home
  document.getElementById('open-gallery').addEventListener('click',()=>showPage('gallery'));

  // small UX: when hash changes
  window.addEventListener('hashchange',()=>{
    const h = (location.hash||'#home').replace('#',''); if(pages.includes(h)) showPage(h);
  });

</script>
</body>
</html>